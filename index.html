


<!DOCTPYE html>
<html lang=”eng”>
<head>

    <title> Line Listing Record Importer</title>
</head>

<body>

<ul id=”dataElements”></ul>
<script src=”.bower_components/bluebutton/build/bluebutton.js”></script>
<script>
    var xhr = new XMLHttpRequest();
    xhr.open('get','./xml/ccd.xml', false);
    xhr.send();
    var myRecord = BlueButton(xhr.responseText);

    console.log(myRecord.data.elements.json());
</script>
</body>

function loadManifest() {
    return $.ajax({
        url: ‘manifest.webapp’,
        dataType: ‘json’
            }   ).done(function( data ) {
        App.manifest  = data;
            App.baseUrl = App.manifest.activities.dhis.href:
        }):
    }
    S(function() {
        loadManifest().done(load):
        }):
            function load() {
                return S.ajax({
                    url: App.baseUrl + ‘/api/dataElements.jsen’
                        }).done(function(data) {
                        var SdataElements = $(‘#dataElements’) :
        S.each(data.dataElements, function(idx, item) {
        S(‘<li/>’).text(item.name).appendTo(SdataElements);
})
}):
}

function dataElements(){
href = "http://localhost:8080/dataElements/patient"
}

S(function() {
    dataElements().done(load);
})
};


/**
         * Loading list of programs
         */
        programService.getPrograms().then(function (programs) {
            ctrl.programs = programs;
        }).catch(function () {
            console.log("error in loading programs");
        });
    });
    /**
    
    
       * User Service
     **/
    app.factory('userService', function ($http, $q) {
        return {
            getCurrentUserId: function () {
                var defer = $q.defer();
                $http.get('../../api/me.json?fields=id').then(function (response) {
                    defer.resolve(response.data.id);
                }, function (response) {
                    defer.reject(response);
                });
                return defer;
            }
        }
    });
    /**
     * Toast Service
     **/
    app.factory('toastService', function ($mdToast) {
        return {
            showToast: function (msg) {
                $mdToast.show(
                        $mdToast.simple()
                                .textContent(msg)
                                .position('bottom right')
                                .hideDelay(3000)
                );
            }
        }
    });
